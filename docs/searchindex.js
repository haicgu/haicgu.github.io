Search.setIndex({"docnames": ["access", "index", "mindspore_page", "usage", "user_guide_huawei_aifae", "~$index"], "filenames": ["access.rst", "index.rst", "mindspore_page.rst", "usage.rst", "user_guide_huawei_aifae.rst", "~$index.rst"], "titles": ["Access to HAICGU", "Welcome to HAICGU cluster documentation", "Ascend- AI Cluster Mindspore Environment Guide", "Cluster usage", "Ascend- AI Cluster Quick Environment Setup &amp; User Guide", "&lt;no title&gt;"], "terms": {"current": [0, 1, 3], "can": [0, 3], "onli": [0, 3, 4], "creat": [0, 4], "manual": 0, "pleas": [0, 1, 3], "send": 0, "follow": [0, 1, 3], "inform": [0, 3, 4], "full": 0, "name": [0, 3], "email": 0, "adress": 0, "public": 0, "ssh": 0, "kei": 0, "openssh": 0, "format": [0, 4], "fia": 0, "uni": 0, "frankfurt": [0, 1], "de": 0, "If": [0, 4], "you": [0, 3, 4], "want": [0, 4], "us": [0, 1], "ai": [0, 1], "node": [0, 1, 3, 4], "hardwar": [0, 2], "also": [0, 4], "specifi": [0, 4], "thi": [0, 1, 2, 3, 4], "need": [0, 3, 4], "ad": 0, "specif": [0, 4], "user": [0, 1, 3], "group": 0, "order": [0, 3], "librari": 0, "ask": 0, "later": 0, "date": 0, "have": [0, 4], "add": [0, 2, 4], "some": [0, 4], "claus": 0, "your": [0, 3, 4], "config": 0, "guoehi": [0, 3], "host": 0, "hostnam": [0, 3], "141": 0, "2": [0, 1, 3], "112": 0, "17": 0, "yourusernam": 0, "serveraliveinterv": 0, "60": [0, 3], "identityfil": 0, "path": [0, 2], "privat": 0, "identitiesonli": 0, "ye": 0, "dev": [0, 3], "proxycommand": 0, "q": 0, "w": [0, 3], "h": 0, "p": [0, 2, 3, 4], "replac": 0, "accordingli": 0, "On": 0, "maco": 0, "linux": [0, 1], "machin": 0, "goe": 0, "window": 0, "10": [0, 1, 3], "higher": 0, "when": [0, 3], "built": [0, 1, 2, 3, 4], "userprofil": 0, "test": 0, "now": 0, "type": [0, 3], "The": [0, 1, 2, 3, 4], "old": 0, "i": [0, 1, 2, 3], "still": 0, "multipl": [0, 2, 3], "intern": 0, "softwar": [0, 1, 2, 4], "compon": 0, "therefor": 0, "ha": [0, 2, 3], "been": [0, 2, 3], "left": 0, "avoid": 0, "confus": 0, "thei": 0, "see": [0, 3], "output": [0, 2, 3, 4], "program": 0, "huawei": [1, 4], "comput": [1, 3, 4], "goeth": 1, "univers": 1, "base": [1, 3, 4], "hpc": 1, "solut": [1, 4], "instal": [1, 3, 4], "mainteain": 1, "open": [1, 2, 4], "edg": 1, "initi": [1, 4], "oehi": 1, "part": [1, 4], "nation": 1, "high": [1, 4], "perform": [1, 4], "allianc": 1, "listshow": 1, "server": [1, 3], "28x": 1, "standard": [1, 3], "taishan": 1, "200": 1, "model": [1, 3], "2280": 1, "x": [1, 2], "kunpeng": 1, "920": 1, "processor": [1, 2, 4], "armv8": 1, "aarch64": 1, "64": [1, 4], "core": [1, 3], "6ghz": 1, "180w": 1, "28gb": 1, "main": [1, 4], "memori": [1, 3], "16x": 1, "8gb": 1, "one": [1, 3], "dimm": 1, "per": 1, "channel": 1, "1x": 1, "100gbit": 1, "": [1, 3], "edr": 1, "infiniband": 1, "hca": 1, "develop": [1, 2, 4], "128gb": 1, "960gb": 1, "ssd": 1, "sata": 1, "6gb": 1, "2x": 1, "io": 1, "5280": 1, "metadata": 1, "storag": 1, "raid": 1, "1": [1, 3], "object": 1, "32x": 1, "tb": 1, "hdd": 1, "sa": 1, "12gb": 1, "000rpm": 1, "mgmt": 1, "4x": 1, "train": [1, 3], "atla": [1, 3], "800": [1, 3], "9000": [1, 2, 3, 4], "neural": [1, 4], "process": [1, 4], "unit": 1, "npu": [1, 3], "8x": 1, "ascend": 1, "910": [1, 4], "32": 1, "32gb": 1, "hbm2": 1, "1024gb": 1, "ddr4": 1, "2933mhz": 1, "rdimm": 1, "local": 1, "960": 1, "gb": 1, "data": [1, 2], "3": [1, 3], "2tb": 1, "nvme": 1, "infer": [1, 3], "3000": [1, 3], "512gb": 1, "2933": 1, "mhz": 1, "4": [1, 2, 3], "gpu": 1, "5x": 1, "300": 1, "card": 1, "pcie3": 1, "0": [1, 2, 3], "x16": 1, "ar": [1, 3, 4], "connect": 1, "via": 1, "non": 1, "block": 1, "fabric": 1, "bandwidth": 1, "low": 1, "latenc": 1, "commun": [1, 2], "well": 1, "an": [1, 3, 4], "ethernet": 1, "network": [1, 4], "deploy": [1, 2], "manag": [1, 3], "sourc": [1, 4], "environ": [1, 3], "rocki": 1, "8": [1, 3], "slurm": [1, 4], "job": [1, 3, 4], "schedul": 1, "lustr": 1, "combin": 1, "zf": 1, "provid": [1, 3, 4], "parallel": 1, "filesystem": 1, "easybuild": [1, 3], "extens": 1, "configur": 1, "packag": 1, "gcc": [1, 2, 3, 4], "openmpi": [1, 2, 3, 4], "python": [1, 3, 4], "scipi": [1, 3], "other": 1, "stack": 1, "top": 1, "cann": [1, 3, 4], "architectur": [1, 2, 3], "toolkit": [1, 3, 4], "which": [1, 4], "support": [1, 2, 3, 4], "framework": [1, 2, 3, 4], "like": [1, 4], "tensorflow": [1, 3], "pytorch": [1, 3], "onnx": 1, "mindspor": [1, 4], "For": [1, 2, 3, 4], "ani": 1, "queri": 1, "contact": 1, "karthe": [1, 5], "dot": 1, "sivalingam": [1, 5], "com": [1, 4], "access": [1, 3], "get": 1, "account": 1, "usag": 1, "overview": 1, "modul": 1, "quick": [1, 2], "setup": 1, "guid": 1, "convers": [1, 3], "atc": 1, "faq": 1, "5": [1, 2, 3], "link": 1, "index": [1, 2, 4], "search": 1, "page": [1, 2, 4], "through": 2, "cooper": 2, "al": 2, "best": 2, "match": 2, "multi": 2, "all": [2, 4], "scenario": 2, "It": [2, 4], "bring": [2, 4], "scientist": 2, "algorithm": 2, "engin": 2, "friendli": 2, "effici": 2, "run": [2, 3], "flexibl": 2, "boost": [2, 3], "ecosystem": 2, "offici": [2, 4], "command": [2, 3, 4], "9": [2, 3], "check": 2, "srun": [2, 3, 4], "a800": [2, 3, 4], "python3": [2, 4], "c": [2, 3], "from": 2, "import": [2, 4], "context": 2, "set_context": 2, "mode": 2, "graph_mod": 2, "device_target": 2, "6": [2, 3], "note": [2, 4], "export": [2, 4], "mai": 2, "requir": [2, 3, 4], "variabl": [2, 3, 4], "declar": [2, 4], "befor": [2, 3], "ld_library_path": 2, "ascend_opp_path": 2, "op_impl": 2, "ai_cor": 2, "tbe": 2, "op_til": 2, "run_check": 2, "version": [2, 3], "result": [2, 4], "calcul": 2, "correct": 2, "successfulli": 2, "numpi": 2, "np": 2, "m": 2, "op": 2, "tensor": [2, 4], "ones": 2, "astyp": 2, "float32": 2, "y": 2, "print": 2, "more": [2, 3, 4], "mindspore1": 2, "2_": 2, "document": [2, 3, 4], "_mindspore1": 2, "http": [2, 4], "www": [2, 4], "cn": [2, 3, 4], "tutori": 2, "en": [2, 4], "r1": 2, "html": [2, 4], "haicgu": 3, "recip": 3, "build": [3, 4], "easyconfig": 3, "found": 3, "here": [3, 4], "made": 3, "lmod": 3, "workload": 3, "list": 3, "avail": [3, 4], "compil": [3, 4], "stage": 3, "2022a": 3, "bisheng": 3, "12": 3, "d": 3, "armlinux": 3, "22": 3, "alplompi": 3, "gompi": 3, "tmux": 3, "3a": 3, "java": 3, "292": 3, "goolf": 3, "zsh": 3, "11": 3, "15": 3, "flex": 3, "alompi": 3, "help2man": 3, "49": 3, "kunpeng920": 3, "somearch": 3, "custom": 3, "arm": 3, "optim": 3, "routin": 3, "21": 3, "02": 3, "l": 3, "where": 3, "default": 3, "load": 3, "sticki": 3, "forc": 3, "unload": 3, "purg": 3, "modulenam": 3, "organ": 3, "hierarch": 3, "after": 3, "becom": 3, "mpi": 3, "runtim": 3, "autotool": 3, "20220509": 3, "absl": 3, "py": [3, 4], "bazel": 3, "18": 3, "curl": 3, "7": 3, "83": 3, "bazelwit": 3, "26": 3, "dm": 3, "tree": 3, "cmake": 3, "23": 3, "doubl": 3, "eigen": 3, "flatbuff": 3, "gmp": 3, "jsoncpp": 3, "meson": 3, "62": 3, "giflib": 3, "ninja": 3, "git": [3, 4], "36": 3, "openbla": 3, "20": 3, "perl": 3, "34": 3, "hwloc": 3, "pillow": 3, "libffi": 3, "postgresql": 3, "14": 3, "libyaml": 3, "pyyaml": 3, "lz4": 3, "nghttp2": 3, "47": 3, "rust": 3, "nsync": 3, "24": 3, "tcl": 3, "numactl": 3, "ucx": 3, "protobuf": 3, "x11": 3, "rai": 3, "dep": 3, "zip": 3, "unzip": 3, "abseil": 3, "cpp": 3, "20210324": 3, "And": 3, "rest": 3, "visibl": 3, "arrow": 3, "79": 3, "bokeh": 3, "fftw": 3, "dask": 3, "2022": 3, "hdf5": 3, "h5py": 3, "scalapack": 3, "project": 3, "There": [3, 4], "2021a": 3, "differ": [3, 4], "switch_stag": 3, "sh": [3, 4], "partli": 3, "integr": 3, "set": 3, "necessari": 3, "ascendcl": [3, 4], "acceler": 3, "same": 3, "time": [3, 4], "lead": 3, "issu": 3, "make": 3, "sure": 3, "anoth": 3, "In": 3, "applic": [3, 4], "actual": 3, "submit": [3, 4], "about": [3, 4], "partit": [3, 4], "sinfo": 3, "timelimit": 3, "state": 3, "nodelist": 3, "up": 3, "infinit": 3, "28": 3, "idl": 3, "01": 3, "ml01": 3, "ml02": 3, "As": 3, "consist": 3, "either": 3, "sbatch": [3, 4], "directli": 3, "cn01": 3, "batch": [3, 4], "script": 3, "cat": [3, 4], "eof": [3, 4], "batchscript": [3, 4], "bin": [3, 4], "bash": [3, 4], "00": [3, 4], "ntask": [3, 4], "smi": [3, 4], "info": [3, 4], "595": 3, "out": [3, 4], "spc001": 3, "health": 3, "power": [3, 4], "temp": 3, "chip": [3, 4], "bu": 3, "id": 3, "aicor": 3, "mb": 3, "hbm": 3, "910a": 3, "ok": 3, "68": 3, "0000": 3, "c1": 3, "591": 3, "14795": 3, "32768": 3, "63": 3, "31": 3, "81": 3, "303": 3, "15177": 3, "66": 3, "41": 3, "1821": 3, "65": 3, "37": 3, "3168": 3, "15088": 3, "35": 3, "c2": 3, "295": 3, "29": 3, "82": 3, "455": 3, "42": 3, "1517": 3, "3319": 3, "view": 3, "queu": 3, "call": 3, "squeue": 3, "echo": 3, "wait": 3, "sleep": 3, "finish": 3, "597": 3, "jobid": 3, "st": 3, "reason": 3, "batchscr": 3, "snassyr": 3, "r": 3, "how": 3, "read": 3, "tool": 4, "work": 4, "doe": 4, "apart": 4, "them": 4, "execut": 4, "necesseri": 4, "preper": 4, "wget": 4, "ob": 4, "north": 4, "myhuaweicloud": 4, "003_atc_model": 4, "ae": 4, "20model": 4, "yolov3": 4, "aipp_nv12": 4, "cfg": 4, "prototxt": 4, "caffemodel": 4, "weight": 4, "yolov3_yuv": 4, "soc_vers": 4, "ascend310": 4, "insert_op_conf": 4, "1079": 4, "further": 4, "simpli": 4, "mean": 4, "learn": 4, "determin": 4, "good": 4, "valu": 4, "bia": 4, "label": 4, "mainli": 4, "so": 4, "dure": 4, "given": 4, "below": 4, "prepar": 4, "mix": 4, "precis": 4, "apex": 4, "displai": 4, "avaliabl": 4, "repo": 4, "lenet": 4, "clone": 4, "gite": 4, "tianyu__zh": 4, "pytorch_lenet_on_npu": 4, "cd": 4, "rank_siz": 4, "train_npu": 4, "epoch": 4, "size": 4, "device_id": 4, "lenet_git": 4, "nlp": 4, "lenet_id0127_for_tensorflow": 4, "data_path": 4, "lenetmnist": 4, "tf2_lenet_on_npu": 4, "tensorflow2": 4, "live": 4, "310": 4, "a310": 4, "much": 4, "smaller": 4, "than": 4, "a910": 4, "real": 4, "life": 4, "easili": 4, "lesser": 4, "consumpt": 4, "afford": 4, "price": 4, "discov": 4, "oper": 4, "translat": 4, "devic": 4, "languag": 4, "guidanc": 4, "deep": 4, "dnn": 4, "app": 4, "exist": 4, "api": 4, "purpos": 4, "target": 4, "recognit": 4, "imag": 4, "classif": 4, "ktuna": 4, "acl_multi_stream_infer": 4, "dist": 4, "pyacl": 4, "includ": 4, "sampl": 4, "level2_simple_infer": 4, "2_object_detect": 4, "yolov3_coco_detection_pictur": 4, "north4": 4, "object_detect": 4, "repositori": 4, "without": 4, "origin": 4, "form": 4, "while": 4, "resnet": 4, "50": 4, "environment": 4, "code": 4, "we": 4, "readm": 4, "new": 4, "file": 4, "copi": 4, "vim": 4, "resnet50_infer_for_pytorch": 4, "past": 4, "visit": 4, "click": 4, "download": 4, "pre": 4, "90": 4, "resum": 4, "resnet50_for_pytorch_1": 4, "4_model": 4, "resnet50_pytorch_1": 4, "pth": 4, "tar": 4, "facenet": 4, "tensorlfow": 4, "pyacl_sampl": 4, "correctli": 4, "fix": 4, "remov": 4, "write": 4, "torch": 4, "instead": 4, "edit": 4, "comment": 4, "line": 4, "valdir": 4, "o": 4, "join": 4, "arg": 4, "assign": 4, "val_load": 4, "problem": 4, "go": 4, "awai": 4, "databas": 4, "preprocess": 4, "normal": 4, "transform": 4, "485": 4, "456": 4, "406": 4, "std": 4, "229": 4, "224": 4, "225": 4, "util": 4, "dataload": 4, "dataset": 4, "imagefold": 4, "compos": 4, "resiz": 4, "256": 4, "centercrop": 4, "totensor": 4, "batch_siz": 4, "shuffl": 4, "true": 4, "num_work": 4, "worker": 4, "pin_memori": 4, "om": 4, "most": 4, "don": 4, "own": 4, "should": 4, "But": 4, "e": 4, "g": [4, 5], "npz": 4, "tfrecord": 4, "etc": 4, "Be": 4, "care": 4, "two": 4, "tf": 4, "One": 4, "chang": 4, "between": 4, "anyth": 4, "end": 4, "websit": 4, "platform": 4, "hiascend": 4, "ascendhub": 4, "docker": 4, "zone": 4, "forum": 4, "enterpris": 4, "100504": 4, "cloud": 4, "bb": 4, "huaweicloud": 4, "paper": 4, "fae": 4, "product": 4, "categori": 4, "pid": 4, "1557196528909": 4, "submodel": 4, "doc": 4, "kartheesivalingam": 5, "mentp": 5, "j": 5, "mponen": 5}, "objects": {}, "objtypes": {}, "objnames": {}, "titleterms": {"access": 0, "haicgu": [0, 1], "get": 0, "an": 0, "account": 0, "cluster": [0, 1, 2, 3, 4], "welcom": 1, "document": 1, "content": 1, "indic": 1, "tabl": 1, "ascend": [2, 4], "ai": [2, 3, 4], "mindspor": 2, "environ": [2, 4], "guid": [2, 4], "1": [2, 4], "2": [2, 4], "modul": [2, 3, 4], "load": [2, 4], "predownload": 2, "pip": 2, "instal": 2, "3": [2, 4], "code": 2, "exampl": [2, 4], "test": 2, "usag": [3, 4], "softwar": 3, "stack": 3, "overview": 3, "us": [3, 4], "slurm": 3, "quick": 4, "setup": 4, "user": 4, "model": 4, "convers": 4, "atc": 4, "train": 4, "pytorch": 4, "v1": 4, "5": 4, "0": 4, "tensorflow": 4, "15": 4, "4": 4, "6": 4, "v": 4, "7": 4, "8": 4, "9": 4, "infer": 4, "offlin": 4, "c": 4, "acl": 4, "onlin": 4, "10": 4, "11": 4, "12": 4, "faq": 4, "": 4, "No": 4, "name": 4, "torch_npu": 4, "val": 4, "folder": 4, "path": 4, "error": 4, "when": 4, "give": 4, "data": 4, "flag": 4, "how": 4, "can": 4, "i": 4, "convert": 4, "my": 4, "see": 4, "statu": 4, "npu": 4, "am": 4, "try": 4, "from": 4, "modelzoo": 4, "t": 4, "find": 4, "run": 4, "script": 4, "opencv": 4, "ani": 4, "other": 4, "packag": 4, "link": 4}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 8, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx": 57}, "alltitles": {"Access to HAICGU": [[0, "access-to-haicgu"]], "Getting an Account": [[0, "getting-an-account"]], "Accessing the cluster": [[0, "accessing-the-cluster"]], "Welcome to HAICGU cluster documentation": [[1, "welcome-to-haicgu-cluster-documentation"]], "Contents:": [[1, null]], "Indices and tables": [[1, "indices-and-tables"]], "Ascend- AI Cluster Mindspore Environment Guide": [[2, "ascend-ai-cluster-mindspore-environment-guide"]], "1 - MindSpore": [[2, "mindspore"]], "2 - MindSpore Environment Module Load": [[2, "mindspore-environment-module-load"]], "2.1 - Predownloaded Module Load": [[2, "predownloaded-module-load"]], "2.2 - pip installation": [[2, "pip-installation"]], "3 - Code Examples for Testing": [[2, "code-examples-for-testing"]], "3.1 - Example 1": [[2, "example-1"]], "3.2 - Example 2": [[2, "example-2"]], "Cluster usage": [[3, "cluster-usage"]], "Software stack overview": [[3, "software-stack-overview"]], "Using modules": [[3, "using-modules"]], "AI software stack": [[3, "ai-software-stack"]], "Using SLURM": [[3, "using-slurm"]], "Ascend- AI Cluster Quick Environment Setup & User Guide": [[4, "ascend-ai-cluster-quick-environment-setup-user-guide"]], "1 - Model Conversion with ATC": [[4, "model-conversion-with-atc"]], "1.1 - Module Load": [[4, "module-load"]], "1.2 - Model Conversion": [[4, "model-conversion"]], "1.3 - Example Usage": [[4, "example-usage"]], "2 - Training": [[4, "training"]], "2.1 - Pytorch-v1.5.0": [[4, "pytorch-v1-5-0"]], "2.1.1.2 Model Training": [[4, "model-training"]], "2.1.1.3 Example Usage": [[4, "id2"]], "2.2 - Tensorflow-v1.15": [[4, "tensorflow-v1-15"]], "2.2.1.4 - Module Load": [[4, "id3"]], "2.2.1.5 - Model Training": [[4, "id4"]], "2.2.1.6 - Example Usage": [[4, "id5"]], "2.3 - Tensorflow-v.2.4": [[4, "tensorflow-v-2-4"]], "2.3.1.7 - Module Load": [[4, "id6"]], "2.3.1.8 Model Training": [[4, "id7"]], "2.3.1.9 - Example Usage": [[4, "id8"]], "3 - Inference": [[4, "inference"]], "3.1 - Offline Inference": [[4, "offline-inference"]], "3.1.1 - C++ (ACL)": [[4, "c-acl"]], "3.1.1.1 -  Module Load": [[4, "id9"]], "3.1.1.2 - Model Inference": [[4, "model-inference"]], "3.1.1.3 - Example Usage": [[4, "id10"]], "3.1.2.4 - Module Load": [[4, "id11"]], "3.1.2.5 - Module Inference": [[4, "module-inference"]], "3.1.2.6 - Example Usage:": [[4, "id12"]], "3.2 - Online Inference": [[4, "online-inference"]], "3.2.1 - Pytorch-v1.5.0": [[4, "id14"]], "3.2.1.7 - Module Load": [[4, "id15"]], "3.2.1.8 - Model Inference": [[4, "id16"]], "3.2.1.9 - Example Usage": [[4, "id17"]], "3.2.2.10 - Module Load": [[4, "id18"]], "3.2.2.11 - Model Inference": [[4, "id19"]], "3.2.2.12 - Example Usage": [[4, "id20"]], "4 - FAQ\u2019s": [[4, "faq-s"]], "4.1 -  No module named \u2018torch_npu\u2019": [[4, "no-module-named-torch-npu"]], "4.2 - Val folder path error when giving data flag": [[4, "val-folder-path-error-when-giving-data-flag"]], "4.3 - How can I convert my model?": [[4, "how-can-i-convert-my-model"]], "4.4 - How can I see the status of NPU\u2019s?": [[4, "how-can-i-see-the-status-of-npu-s"]], "4.5 - I am trying to train model from Ascend-Modelzoo but I can\u2019t find the example data.": [[4, "i-am-trying-to-train-model-from-ascend-modelzoo-but-i-can-t-find-the-example-data"]], "4.6 - I can\u2019t run my Tensorflow Script!": [[4, "i-can-t-run-my-tensorflow-script"]], "4.7 - My module can not find OpenCV or any other package!": [[4, "my-module-can-not-find-opencv-or-any-other-package"]], "5 - Useful Links": [[4, "useful-links"]]}, "indexentries": {}})