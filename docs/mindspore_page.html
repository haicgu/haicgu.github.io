
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Ascend- AI Cluster Mindspore Environment Guide &#8212; HAICGU 0.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/agogo.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
  </head><body>
    <div class="header-wrapper" role="banner">
      <div class="header">
        <div class="headertitle"><a
          href="index.html">HAICGU 0.1 documentation</a></div>
        <div class="rel" role="navigation" aria-label="related navigation">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a>
        </div>
       </div>
    </div>

    <div class="content-wrapper">
      <div class="content">
        <div class="document">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="ascend-ai-cluster-mindspore-environment-guide">
<h1>Ascend- AI Cluster Mindspore Environment Guide<a class="headerlink" href="#ascend-ai-cluster-mindspore-environment-guide" title="Permalink to this heading">¶</a></h1>
<section id="mindspore">
<h2>1 - MindSpore<a class="headerlink" href="#mindspore" title="Permalink to this heading">¶</a></h2>
<p>Through community cooperation, this open Al framework best matches with Ascend processors and supports multi-processor architectures for all scenarios. It brings data scientists, algorithm engineers, and developers with friendly development, efficient running, and flexible deployment, and boosts the development of the Al software and hardware ecosystem.</p>
<p>Official Page: <a class="reference external" href="https://www.mindspore.cn/en">Mindspore</a></p>
</section>
<section id="mindspore-environment-module-load">
<h2>2 - MindSpore Environment Module Load<a class="headerlink" href="#mindspore-environment-module-load" title="Permalink to this heading">¶</a></h2>
<section id="predownloaded-module-load">
<h3>2.1 - Predownloaded Module Load<a class="headerlink" href="#predownloaded-module-load" title="Permalink to this heading">¶</a></h3>
<dl class="simple">
<dt>Command::</dt><dd><p>module load GCC/9.5.0 OpenMPI MindSpore</p>
</dd>
<dt>Quick Check::</dt><dd><p>srun -p a800-9000 python3 -c ‘from mindspore import context;context.set_context(mode=context.GRAPH_MODE, device_target=”Ascend”)’</p>
</dd>
</dl>
</section>
<section id="pip-installation">
<h3>2.2 - pip installation<a class="headerlink" href="#pip-installation" title="Permalink to this heading">¶</a></h3>
<dl class="simple">
<dt>Command::</dt><dd><p>pip install mindspore-ascend==1.6.2</p>
</dd>
<dt>Quick Check::</dt><dd><p>srun -p a800-9000 python3 -c ‘from mindspore import context;context.set_context(mode=context.GRAPH_MODE, device_target=”Ascend”)’</p>
</dd>
<dt>Note: Path export may require if the required environment variable not declared before::</dt><dd><p>export LD_LIBRARY_PATH=$ASCEND_OPP_PATH/op_impl/builtin/ai_core/tbe/op_tiling:$LD_LIBRARY_PATH</p>
</dd>
</dl>
</section>
</section>
<section id="code-examples-for-testing">
<h2>3 - Code Examples for Testing<a class="headerlink" href="#code-examples-for-testing" title="Permalink to this heading">¶</a></h2>
<section id="example-1">
<h3>3.1 - Example 1<a class="headerlink" href="#example-1" title="Permalink to this heading">¶</a></h3>
<dl class="simple">
<dt>Code ::</dt><dd><p>srun -p a800-9000 python3 -c “import mindspore;mindspore.run_check()”</p>
</dd>
<dt>Output ::</dt><dd><p>MindSpore version: 1.6.2
The result of multiplication calculation is correct, MindSpore has been installed successfully!</p>
</dd>
</dl>
</section>
<section id="example-2">
<h3>3.2 - Example 2<a class="headerlink" href="#example-2" title="Permalink to this heading">¶</a></h3>
<dl>
<dt>Code ::</dt><dd><p>import numpy as np
import mindspore as ms
import mindspore.ops as ops</p>
<p>ms.set_context(device_target=”Ascend”)
x = ms.Tensor(np.ones([1,3,3,4]).astype(np.float32))
y = ms.Tensor(np.ones([1,3,3,4]).astype(np.float32))
print(ops.add(x, y))</p>
</dd>
<dt>Output ::</dt><dd><p>[[[[2. 2. 2. 2.] [2. 2. 2. 2.] [2. 2. 2. 2.]] [[2. 2. 2. 2.] [2. 2. 2. 2.] [2. 2. 2. 2.]] [[2. 2. 2. 2.] [2. 2. 2. 2.] [2. 2. 2. 2.]]]]</p>
</dd>
</dl>
<p>For more examples, check <a class="reference external" href="https://www.mindspore.cn/en">MindSpore</a> 1.6.2 Documentation</p>
<p>_MindSpore: <a class="reference external" href="https://www.mindspore.cn/tutorials/en/r1.6/index.html">https://www.mindspore.cn/tutorials/en/r1.6/index.html</a></p>
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
        </div>
        <div class="sidebar">
          
          <h3>Table of Contents</h3>
          <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="access.html">Access to HAICGU</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Cluster usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="user_guide_huawei_aifae.html">Ascend- AI Cluster Quick Environment Setup &amp; User Guide</a></li>
</ul>

          <div role="search">
            <h3 style="margin-top: 1.5em;">Search</h3>
            <form class="search" action="search.html" method="get">
                <input type="text" name="q" />
                <input type="submit" value="Go" />
            </form>
          </div>

        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          <div role="navigation" aria-label="related navigaton">
            <a href="genindex.html" title="General Index"
              >index</a>
          </div>
          <div role="note" aria-label="source link">
              <br/>
              <a href="_sources/mindspore_page.rst.txt"
                rel="nofollow">Show Source</a>
          </div>
        </div>

        <div class="right">
          
    <div class="footer" role="contentinfo">
        &#169; Copyright 2022, OEHI.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.3.0.
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

  </body>
</html>